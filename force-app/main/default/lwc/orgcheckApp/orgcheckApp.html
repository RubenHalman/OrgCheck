<template>
    <div style="padding-bottom: 12px;">
        <c-orgcheck-api accesstoken={accessToken} userid={userId} onload={handleApiLoaded} onfail={handleApiFailed} onlog={handleApiLog}></c-orgcheck-api>
        <c-orgcheck-global-filters onvalidatechange={handleFiltersValidated}></c-orgcheck-global-filters>
        <c-orgcheck-spinner></c-orgcheck-spinner>
    </div>
    <lightning-tabset variant="scoped">
        <lightning-tab label="Home" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="welcome" label="Welcome!" onactive={handleSubTabActivation}>
                    <c-orgcheck-welcome class="orgcheck-subTabContent" onload={handleSubTabContentLoaded}></c-orgcheck-welcome>
                </lightning-tab>
                <lightning-tab value="cache-manager" label="Metadata Cache" onactive={handleSubTabActivation}>
                    <c-orgcheck-cache-manager class="orgcheck-subTabContent" onload={handleSubTabContentLoaded} onremovecache={handleRemoveCache} cache-manager-data={cacheManagerData}></c-orgcheck-cache-manager>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="⚽ Objects" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="object-information" label="Object Documentation" onactive={handleSubTabActivation}>
                    <c-orgcheck-object-information class="orgcheck-subTabContent" onload={handleSubTabContentLoaded} object-information-data={objectInformationData}></c-orgcheck-object-information>
                </lightning-tab>
                <lightning-tab value="objects-owd" label="Org Wide Default" onactive={handleSubTabActivation}>
                    Place for org wide default per objects
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="🥕 Custom Fields" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="custom-fields" label="Custom Fields" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no custom field to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={customFieldsTableColumns}
                        rows={customFieldsTableData}></c-orgcheck-extended-datatable>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="🧔 Users" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="users" label="Users" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no active user to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={usersTableColumns}
                        rows={usersTableData}></c-orgcheck-extended-datatable>            
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="👮 Profiles and Permission Sets" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="profiles" label="Profiles" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no profile to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={profilesTableColumns}
                        rows={profilesTableData}></c-orgcheck-extended-datatable>
                </lightning-tab>
                <lightning-tab value="permission-sets" label="Permission Sets" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no permission to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={permissionSetsTableColumns}
                        rows={permissionSetsTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="🐇 Roles" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="roles" label="Role Explorer" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="roles" label="Role Listing" onactive={handleSubTabActivation}>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="🌶️ Public Groups and Queues" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="public-groups" label="Public Groups" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no public group to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={publicGroupsTableColumns}
                        rows={publicGroupsTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
                <lightning-tab value="queues" label="Queues" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no queue to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={queuesTableColumns}
                        rows={queuesTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="🤖 Automations" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="flows" label="Flows" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="process-builders" label="Process Builders" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="workflows" label="Workflows" onactive={handleSubTabActivation}>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="🎁 Custom Labels" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="custom-labels" label="Custom Labels" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no custom label to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={customLabelsTableColumns}
                        rows={customLabelsTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="🥐 Visual Components" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="visual-force-pages" label="Visual Force Pages" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no visual force page to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={visualForcePagesTableColumns}
                        rows={visualForcePagesTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
                <lightning-tab value="visual-force-components" label="Visual Force Components" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no visual force component to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={visualForceComponentsTableColumns}
                        rows={visualForceComponentsTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
                <lightning-tab value="lightning-pages" label="Lightning Pages" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Lightning Page to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={lightningPagesTableColumns}
                        rows={lightningPagesTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
                <lightning-tab value="lightning-aura-components" label="Lightning Aura Components" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Lightning Aura Component to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={auraComponentsTableColumns}
                        rows={auraComponentsTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
                <lightning-tab value="lightning-web-components" label="Lightning Web Components" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Lightning Web Component to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={lightningWebComponentsTableColumns}
                        rows={lightningWebComponentsTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="🔥 Apex" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="apex-classes" label="Classes" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Apex Class to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={apexClassesTableColumns}
                        rows={apexClassesTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
                <lightning-tab value="apex-recompilation-needed" label="Recompilation needed" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="apex-triggers" label="Triggers" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Apex Trigger to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={apexTriggersTableColumns}
                        rows={apexTriggersTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
                <lightning-tab value="apex-unit-tests" label="Unit Tests" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Apex Unit Test to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        columns={apexTestsTableColumns}
                        rows={apexTestsTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="🤪 Analytics" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="dashboards" label="Dashboards" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="reports" label="Reports" onactive={handleSubTabActivation}>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="🚢  Batches" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="schedulable-classes-not-scheduled" label="Schedulable classes not yet scheduled" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="apex-jobs" label="Apex Jobs" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="scheduled-jobs" label="Scheduled Jobs" onactive={handleSubTabActivation}>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
    </lightning-tabset>
</template>
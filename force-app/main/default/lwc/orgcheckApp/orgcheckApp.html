<template>
    <div style="padding-bottom: 12px;">
        <c-orgcheck-api accesstoken={accessToken} userid={userId} onload={handleApiLoaded} onfail={handleApiFailed}></c-orgcheck-api>
        <c-orgcheck-global-filters onchange={handleFilterChanged} onvalidatechange={handleFiltersValidated}></c-orgcheck-global-filters>
        <c-orgcheck-spinner></c-orgcheck-spinner>
    </div>
    <lightning-tabset variant="scoped">
        <lightning-tab label="Home" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="welcome" label="Welcome!" onactive={handleSubTabActivation}>
                    <c-orgcheck-welcome class="orgcheck-subTabContent" onload={handleSubTabContentLoaded}></c-orgcheck-welcome>
                </lightning-tab>
                <lightning-tab value="cache-manager" label="Metadata Cache" onactive={handleSubTabActivation}>
                    <c-orgcheck-cache-manager class="orgcheck-subTabContent" onload={handleSubTabContentLoaded} onremovecache={handleRemoveCache}></c-orgcheck-cache-manager>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="âš½ Objects" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="object-information" label="Object Documentation" onactive={handleSubTabActivation}>
                    <c-orgcheck-object-information class="orgcheck-subTabContent" onload={handleSubTabContentLoaded}></c-orgcheck-object-information>
                </lightning-tab>
                <lightning-tab value="objects-owd" label="Org Wide Default" onactive={handleSubTabActivation}>
                    Place for org wide default per objects
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸ¥• Custom Fields" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="custom-fields" label="Custom Fields" onactive={handleSubTabActivation}>
                    <c-orgcheck-custom-fields class="orgcheck-subTabContent" onload={handleSubTabContentLoaded}></c-orgcheck-custom-fields>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸ§” Users" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="users" label="Users" onactive={handleSubTabActivation}>
                    <c-orgcheck-users class="orgcheck-subTabContent" onload={handleSubTabContentLoaded}></c-orgcheck-users>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸ‘® Profiles and Permission Sets" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="profiles" label="Profiles" onactive={handleSubTabActivation}>
                    <c-orgcheck-profiles class="orgcheck-subTabContent" onload={handleSubTabContentLoaded}></c-orgcheck-profiles>
                </lightning-tab>
                <lightning-tab value="permission-sets" label="Permission Sets" onactive={handleSubTabActivation}>
                    <c-orgcheck-permission-sets class="orgcheck-subTabContent" onload={handleSubTabContentLoaded}></c-orgcheck-permission-sets>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
    </lightning-tabset>
</template>